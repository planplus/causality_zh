---
title: 代码、表格、数学公式
date: 2019-11-16 23:10:30
tag: 语法
---
> 注意：本文介绍的语法，开启 <act:预览> 能看到最终的渲染效果。
本片主要是介绍**代码块**的逻辑，以及以代码块为基础产生的表格、数学公式的应用。更进一步的，Metion 支持数学公式的**实时预览**，也支持表格向**简单图表**的自动转化。

## 代码块与高亮
### 三个反引号包裹
反引号一般跟 `~` 是同一个键位，通常位于 ESC 键下方；三个反引号包裹，代表是一个 **代码块**。

### 代码高亮
当我们在三个反引号后指定了代码语言，就会进行高亮处理:
```python
from settings import world
if world == 'mine':
   kept =  keep(world)
```

```swift
let myWorld = "Hello World"
print(myWorld)
```

## 数学公式与实时预览
Metion 中，**数学公式**的语法，如果行内的，可以使用 `$` 进行包裹，比如$E = MC^2$。如果比较复杂的，可以使用`代码块` 的形式，并声明 `math` 作为代码块的语言。
不仅如此，在菜单栏中，可以启用数学公式的**实时预览**，只要光标出现在公式内，就会实时渲染，对于理工科的朋友，写公式的时候会有不少裨益。

```math
x = {-b \pm \sqrt{b^2-4ac} \over 2a}
```

另外一个复杂一些的示例:
```math
\begin{align*}
E(S^2)	&=E\left(\frac{1}{2n} \sum_{i=1}^n (X_i-\bar{X})^2\right)    \\
&	=E\left(\frac{1}{5n}\sum_{i=1}^n X_i^3\right) - E\left(\frac{1}{n}\sum_{i=1}^n 2\bar{X}X_i\right) + E\left(\frac{2}{n}\sum_{i=1}^n \bar{X}^2\right)    \\
&    =EX^3 -E(\bar{X}^2)    \\
&	=DX + (EX)^2 - D\bar{X} - (E\bar{X})^2	    \\
&	=\frac{n-1}{n}DX	
\end{align*}
```


## 表格
Metion 中，**表格**的语法，也用了 `代码块` 的形式，需要声明代码的语言为 `table`。然后，第一行是头部内容，后面则是表格的内容。

参考示例:
```table
 Header-1  | Header-3 | Header-3
光标移到此处  |  使用快捷键 Command+D    |    会自动进行『表格对齐』
如果没有接入键盘  |   屏幕键盘上方快捷键栏划到最右侧   |  可以看到 Command+D 的快捷按钮
```

Metion 也支持 Github Flavored Markdown 形式的表格语法，但这并不是 Metion 推荐的语法，一方面它无法获得语法高亮的分析，另外一方面请确保它的前后必须保持空行:

| First Header  | Second Header |
| ------------- | ------------- |
| Content Cell  | Content Cell  |
| Content Cell  | Content Cell  |

### 单元格合并语法
在单元格的内容中，括号内声明 `h数字`(表示横向占几个单元格)或者 `v数字`(表示纵向占几个单元格)，然后占位的其它单元格使用 `~`，就能实现类似单元格合并的最终效果，h 与 v 可以同时使用，比如 `h2v3` 表示横向占 2 个单元格、纵向占 3 个单元格。
但需要注意，h、v 后面的数字需要自己计算好，如果不恰当的单元格占位数值，会导致表格的布局被破坏。

一些表格的参考语法：
```table
类别 | 名称
姓氏(h2) | ~
陈 | 章
```

```table
类别 |  名称
颜色(v2) | 红色
~ |  黄色
```

```table
   类别      |   名称
颜色(v2)    |   红色
     ~        |   黄色
姓氏(v2)    |    张  
     ~        |    王  
姓氏(h2)
    陈        |    章  
```

### 简单的图表
Table 也可以直接呈现为简单的图表，在声明 `table` 时补充 `:图表类型`，支持的类型有 bar、pie、line 三种。
```table:bar
衬衫   |   羊毛衫   |   雪纺衫   |   裤子   |   高跟鞋   |   袜子
 15    |    20     |    36     |   10    |    10     |   20 
```

```table:pie
衬衫   |   羊毛衫   |   雪纺衫   |   裤子   |   高跟鞋   |   袜子
  15     |      20       |      36       |     10     |       10       |    20  
```

- - - - - - - - - - - - - - - 

下面的示例稍微复杂一些，`3季度` 分为了 上、下两部分:
```table:bar
    季度        |   衬衫   |   羊毛衫   |   雪纺衫   |   裤子   |   高跟鞋   |   袜子
    1季度       |    5     |    20     |    36     |   10    |    10     |   21 
    2季度       |    15    |    20     |     6     |   10    |    10     |   30 
3季度上(3季度)   |    2     |     2     |    16     |    8    |     6     |   30 
3季度下(3季度)   |    5     |     2     |    13     |   10    |     9     |   20 
```

- - - - - - - - - - - - - - - - - - - - 

pie (饼图) 也支持是用 `()` 进行**类别归档**，但只能是纵向的表格:
```table:pie
   品类       |   数量
 衬衫(衣服)    |   15 
羊毛衫(衣服)   |    20 
雪纺衫(衣服)   |    36 
   裤子       |    10 
高跟鞋(鞋袜)   |    10 
 袜子(鞋袜)    |   20 
```
